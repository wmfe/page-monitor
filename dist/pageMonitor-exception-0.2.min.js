~function(e){function r(e){var r=/(chrome)\/(\d+\.\d)/,n=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/,o=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,i=/(mozilla)(?:.*? rv:([\w.]+))?/;e=e.toLowerCase();var a=r.exec(e)||o.exec(e)||t.exec(e)||e.indexOf("compatible")<0&&i.exec(e)||[];return n.exec(e)&&!/chrome/.test(e)&&(a[1]="safari",a[2]=RegExp.$1||RegExp.$2),{browser:a[1]||"unknown",version:a[2]||"0"}}function n(){for(var e=document.body.childNodes,r="",n=e.length-1;n>=0;n--)if(e[n].nodeType==document.COMMENT_NODE){r=e[n].textContent;break}return r}function o(e){var r=!1;return Array.isArray(e)?(e.some(function(e,n){e.test(c.href)&&(r=!0)}),e.length?null:r=!0):r=e==c.href,r}function t(e,r){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n}function i(){var e=l.q;if(!e)return{};for(var r={},n=0;n<e.length;n++)r[e[n][0]]=e[n][1];return r}var a=e.navigator,c=e.location,u=e.screen,f=e.document,l=e.BDWMMonitor||{};l.url="//log.waimai.baidu.com/static/exceptionjs.gif?",l.beforeReport=function(e,r){return r};var d=i();l.init=function(){var e=d.module,t=d.conf;l._conf={platform:t.platform,app:t.app,channel:t.channel,pageid:t.pageid||0,traceCode:""},t.url?l.url=t.url:null,t.beforeReport?l.beforeReport=t.beforeReport:null,o(t.pageWhiteList)&&e.forEach(function(e,r){l.use(e)});var i=function(){l._conf.traceCode=n()};window.addEventListener("DOMContentLoaded",function(){i(),window.removeEventListener("DOMContentLoaded",i)});var c=r(a.userAgent),f=u.width+"*"+u.height+"|"+u.availWidth+"*"+u.availHeight;"pc"===t.channel&&(l._conf.browser=c.browser+"|"+c.version),l._conf._screen=f},l._module={},l.define=function(e,r){if(l._module[e])throw new Error(e+" Already defined");l._module[e]=r()},l.report=function(e,r){if(l.url&&e&&r){if(r=l.beforeReport(e,r),!r)throw new Error("Report data is empty");var n=l._conf;if(!n.app||!n.channel||!n.platform)throw new Error("Global report data fragmentary");r=t(n,r);var o=f.createElement("img"),i=l.url,a=[];for(var c in r)a.push(c+"="+encodeURIComponent(r[c]));var u="img_"+ +new Date;l[u]=o,o.onload=o.onerror=function(){l[u]=o=o.onload=o.onerror=null,delete l[u]},o.src=i+(i.indexOf("?")<0?"?":"&")+a.join("&")}},l.error=function(e){l.report("exception",e)},l.use=function(e){l._module[e]?l._module[e].run():d[e]&&(l._module[e]=d[e]())&&l._module[e].run()},l.init()}(window),~function(e){var r=e.BDWMMonitor,n=e.location;r("exception",function(){return{run:function(){this.catchException()},catchException:function(){function e(e){var r=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return r.indexOf(n)<0&&(r=n+"@"+r),r}window.onerror=function(o,t,i,a,c){var u=o;c&&c.stack&&(u=e(c)),r.report("exception",{tag:"js_error",err_txt:u,url:t,purl:n.href,ln:i,col:a,err_status:401})}}}})}(window);